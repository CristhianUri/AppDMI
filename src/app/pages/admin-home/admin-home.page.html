<app-header cargo="Administrador" title="Recargar" [menuItem]="[
{ title: 'Recargar', route: '/admin-home' },
{ title: 'Historial de recargas', route: '/admin-payment-history' },
{ title: 'Registrar', route: '/admin-register-chofer' },
{ title: 'Lista de conductores', route: '/admin-list' }
]"></app-header>
<ion-router-outlet id="main-content"></ion-router-outlet>

<ion-content class="ion-page">
    <div style="padding-top: 150px;">
        <ion-img src="../../assets/icon/usuario.png" alt="logo" style="height: 150px;"></ion-img>
        <p class="ion-text-center">Cobrador: {{userName}} </p>
    </div>

    <!-- Formulario para recargar -->
    <div class="d-flex-center">
        <form [formGroup]="form" class="auth-form">
            <app-custom-input type="email" label="Correo Electrónico" [isLengthRestricted]="false" [control]="form.controls.email"autocomplete="email" icon="mail-outline">
            </app-custom-input>

            <app-custom-input type="number" label="Cantidad"[isLengthRestricted]="false" [control]="form.controls.saldo" autocomplete="off" icon="cash-outline">
            </app-custom-input>

            <app-custom-input type="number" label="Repetir cantidad" [isLengthRestricted]="false" [control]="form.controls.saldo2" autocomplete="off" icon="cash-outline">
            </app-custom-input>

            <ion-button expand="block" mode="ios" id="open-modal" color="tertiary" type="submit">
                <strong>Recargar</strong>
            </ion-button>
        </form>
    </div>

    <!-- Modal que se abre -->
    <ion-modal #modal trigger="open-modal">
        <ng-template>
            <ion-content>
                <ion-header>
                    <ion-toolbar color="primary">
                        <ion-title class="ion-text-center">Verificación de seguridad</ion-title>
                    </ion-toolbar>
                </ion-header>
                <p class="ion-padding"><strong>Estás enviando una recarga a:</strong></p>
                <ion-list>
                    <ion-item>
                        <ion-avatar slot="start">
                            <ion-img src="https://i.pravatar.cc/300?u=b"></ion-img>
                        </ion-avatar>
                        <ion-label>
                            <h2>Email del usuario</h2>
                            <p>{{form.value.email}}</p>
                        </ion-label>
                    </ion-item>
                </ion-list>
                <p class="ion-padding"><strong>De: {{form.value.saldo}}</strong></p>
                <ion-grid>
                    <ion-row class="ion-justify-content-between">
                        <ion-col>
                            <ion-button expand="block" color="danger" (click)="modal.dismiss()">Cancelar</ion-button>
                        </ion-col>
                        <ion-col>
                            <ion-button expand="block" color="primary" (click)="submit()">Confirmar</ion-button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-content>
        </ng-template>
    </ion-modal>
</ion-content>